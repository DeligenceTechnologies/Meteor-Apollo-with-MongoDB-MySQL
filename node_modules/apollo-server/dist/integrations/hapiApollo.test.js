"use strict";
const hapi = require('hapi');
const hapiApollo_1 = require('./hapiApollo');
const integrations_test_1 = require('./integrations.test');
function createApp(options = {}) {
    const server = new hapi.Server();
    server.connection({
        host: 'localhost',
        port: 8000,
    });
    options.apolloOptions = options.apolloOptions || { schema: integrations_test_1.Schema };
    server.register({
        register: new hapiApollo_1.ApolloHAPI(),
        options: options.apolloOptions,
        routes: { prefix: '/graphql' },
    });
    server.register({
        register: new hapiApollo_1.GraphiQLHAPI(),
        options: { endpointURL: '/graphql' },
        routes: { prefix: '/graphiql' },
    });
    return server.listener;
}
describe('integration:HAPI', () => {
    integrations_test_1.default(createApp);
});
//# sourceMappingURL=hapiApollo.test.js.map